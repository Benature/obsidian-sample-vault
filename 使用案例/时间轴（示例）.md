---
aliases: 
tags:
  - preview
ctime: 2024-04-11  18:21:50
cssclasses:
  - timeline
  - body-3
  - line-3
---
使用前提（依赖）：启用插件 Dataview；启用 Snippet `.obsidian/snippets/Timeline-Snippet.css`
>  https://github.com/Benature/obsidian-sample-vault/blob/main/.obsidian/snippets/Timeline-Snippet.css 

```dataviewjs
// ======= 配置开始 =======
// const query = `#timeline and [[OpenAI]]`;
const query = `#timeline`;
const dateKey = `beginDate`
// ======= 配置结束 =======

const pages = dv.pages(query).sort(p => p[dateKey]);
for (const p of pages) {
  let title = p.title ?? p.file.name;
  let time = p[dateKey]!==undefined?moment(p[dateKey].toString()).format("YY年MM月"):"";
  let content = `- ${time}\n- [[${p.file.name}|${title}]]\n- ![[${p.file.name}#^desc]]`
  dv.span(content);
  //console.log(content);
// console.log(await this.app.vault.adapter.read(p.file.path));
}
```
